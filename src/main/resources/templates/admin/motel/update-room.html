<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{/admin/layout/layout :: dynamic(~{::body})}">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
	<div class="content-body " ng-app="myAppUpdateMotelRoom" ng-controller="myCtrlUpdateMotelRoom">
		<div class="container-fluid" >
			<div class="form-head  d-flex flex-wrap align-items-center">
				<h2 class="font-w600 title mb-2 mr-auto ">Sửa phòng trọ </h2>
			</div>
			<form  id="your-form-id" action="#" th:action="@{/admin/update-motelroom}" th:object="${motelroom}" method="post"
				enctype="multipart/form-data">
				<div class="row">
					<label for="">Hiện ảnh</label>
					<div class="col-12 col-md-6">
						<div class=" d-flex  justify-content-center w-100 border-1  "
							style="height: 25rem; background-color: #ffff;">
							<img class="card-img-top rounded-3 " id="selected-image">
						</div>
						<div class="image-box row mt-5 " th:if="${listimg!=null}">
							<label class="p-2 ms-3 m-1  " for="">Ảnh hiện có</label>
							<img id="imgthyme" onclick="clickimg(this)" class="col-2"  th:each="item : ${listimg}" th:src="@{'/files/ImgMotelRoom/'+${item}}" alt="">
						</div>
						<label class="p-2 mt-2 " for="">Ảnh đang chọn</label>
						<div class="image-box row mt-3 " id="image-box"></div>
						<br>
						<label for="input" class="btn btn-primary mt-3">
							<i for="input" class="fas fa-upload"></i> Chọn ảnh
							<input class="d-none " name="files" type="file" id="input" accept="image/*" multiple>
						  </label>
						<label th:text="${Imgerror}" id="text-error-file" class="mt-2 " style="color: red;" for=""></label>
					</div>
					<div class="col-md-6">
						<div>
							<label class="form-label text-black  " for="">Mô tả</label>
							<textarea id="descriptionsroom" th:field="*{descriptions}" class="form-control " name=""
								 cols="30" rows="10"></textarea>
							<div>
								<label th:errors="*{descriptions}" id="descriptionsroom-error"
									style="color: red; padding: 0.5rem; display: block;" for="">lỗi server</label>
								<label id="descriptionsroom-error1" style="color: red; padding: 0.5rem; display: none; " for="">
									</label>
							</div>
							<input class="d-none " th:field="*{motelRoomId}">
						</div>
						<div class="row ">
							<div class="col-6 mt-1 ">
								<label class="form-label text-black  " for="">Chiều dài</label>
								<input min="0" id="length" th:field="*{length}" type="number" class="form-control ">
								<div>
									<label th:errors="*{length}" id="length-error"
										style="color: red; padding: 0.5rem; display: block;" for="">lỗi server</label>
									<label id="length-error1" style="color: red; padding: 0.5rem; display: none; " for="">lỗi
										cilnk</label>
								</div>
							</div>
							<div class="col-6 mt-1 ">
								<label class="form-label text-black  " for="">Chiều rộng</label>
								<input min="0" id="width" th:field="*{width}" type="number" class="form-control ">
								<div>
									<label th:errors="*{width}" id="width-error"
										style="color: red; padding: 0.5rem; display: block;" for=""></label>
									<label id="width-error1" style="color: red; padding: 0.5rem; display: none;" for=""></label>
								</div>
							</div>
						</div>
						<div>
							<label class="form-label mt-1 text-black  " for="">Loại phòng</label>
							<select th:field="*{categoryRoom.categoryRoomId}" class="form-control " name="" id="categoryRoom">
								<option value="">chọn loại phòng</option>
								<option th:if="${categoryRoomlist!=null}" th:each="item : ${categoryRoomlist} "
									th:value="${item.categoryRoomId}">[[${item.title}]]</option>
							</select>
							<div>
								<label th:if="${categoryRoomerror!=null}" th:text="${categoryRoomerror}" id="categoryRoomerror"
									style="color: red; padding: 0.5rem; display: block;" for=""></label>
								<label id="categoryRoomerror1" style="color: red; padding: 0.5rem; display: none;" for=""></label>
							</div>
						</div>
					</div>
				</div>
				<div>
					<label class="form-label mt-4 text-black  " for="">Link video</label>
					<div class="row ">
						<input  th:field="*{video}" type="text" class="form-control col-11  " id="Idinput-linkyoutube">
						<p class="col-1 form-control   btn btn-primary" data-bs-toggle="modal"
							data-bs-target="#exampleModal" id="Idbutton-linkyoutube">Xem thử</p>
					</div>
					<div>
						<label th:errors="*{video}" id="video-error" style="color: red; padding: 0.5rem; display: block;"
						for=""></label>
						<label  id="video-error1" style="color: red; padding: 0.5rem; display: none;"
						for=""></label>
					</div>
				</div>
				<button class="btn btn-light " type="submit">Thêm</button>
			</form>
			<div th:attr="ng-init='getallbill(\'' + ${motel.motelId} + '\', \'' + ${motelroom.motelRoomId} + '\')'">
				<h2>Giá phòng và giá điện nước</h2>
				<div class="row"> 
					<div class="col-3 " ng-show="Checkbill!==''">
						<div ng-show="Checkbill.ElectricityCash.length !== 0" class="card  text-center w-100  " >
							<div>Ngày tạo {{ Checkbill.ElectricityCash[0].createDate | date:'dd/MM/yyyy' }}</div>
							<div class="card-body">
							  <h5 class="card-title">Giá điện</h5>
							   <p>{{Checkbill.ElectricityCash[0].electricityBill }} /ký </p>
							  <button ng-click="Updatabil('dien')" data-bs-toggle="modal" data-bs-target="#staticBackdrop" class="btn btn-primary">Cập nhật</button>
							</div>
						  </div>
						  <div ng-show="Checkbill.ElectricityCash.length === 0"  class="card  w-100  text-center">
							<div class="card-body">
								<h5 class="card-title">Giá điện</h5>
								<button ng-click="Addbil('dien')"  class="btn btn-primary"  data-bs-toggle="modal" data-bs-target="#staticBackdrop">Thêm</button>
							</div>
						  </div>
					</div>		
					<div class="col-3 " ng-show="Checkbill!==''">
						<div ng-show="Checkbill.WaterCash.length !== 0" class="card  text-center  w-100 " >
							<div>Ngày tạo {{ Checkbill.WaterCash[0].createDate | date:'dd/MM/yyyy' }}</div>
							<div class="card-body">
							  <h5 class="card-title">Giá nước</h5>
							   <p>{{Checkbill.WaterCash[0].waterBill }} /m2</p>
							   <button ng-click="Updatabil('nuoc')" data-bs-toggle="modal" data-bs-target="#staticBackdrop" class="btn btn-primary">Cập nhật</button>
							</div>
						  </div>
						  <div ng-show="Checkbill.WaterCash.length === 0" class="card  w-100   text-center" >
							<div class="card-body">
								<h5 class="card-title">Giá nước</h5>
								<button ng-click="Addbil('nuoc')"  class="btn btn-primary"  data-bs-toggle="modal" data-bs-target="#staticBackdrop">Thêm</button>
							</div>
						  </div>
					</div>	
					<div class="col-3 " ng-show="Checkbill!==''">
						<div ng-show="Checkbill.WifiCash.length !== 0" class="card text-center  w-100 " >
							<div>Ngày tạo {{ Checkbill.WifiCash[0].createDate | date:'dd/MM/yyyy' }}</div>
							<div class="card-body">
							  <h5 class="card-title">Giá wifi</h5>
							   <p>{{ Checkbill.WifiCash[0].wifiBill}} / Tháng</p>
							   <button ng-click="Updatabil('wifi')" data-bs-toggle="modal" data-bs-target="#staticBackdrop" class="btn btn-primary">Cập nhật</button>
							</div>
						  </div>
						  <div ng-show="Checkbill.WifiCash.length === 0" class="card w-100  text-center " >
							<div class="card-body">
								<h5 class="card-title">Giá wifi</h5>
								<button ng-click="Addbil('wifi')"  class="btn btn-primary"  data-bs-toggle="modal" data-bs-target="#staticBackdrop">Thêm</button>
							</div>
						  </div>
					</div>	
					<div class="col-3 " ng-show="Checkbill!==''">
						<div ng-show="Checkbill.RoomCash.length !== 0" class="card  text-center w-100 ">
							<div>Ngày tạo {{ Checkbill.RoomCash[0].createDate | date:'dd/MM/yyyy' }}</div>
							<div class="card-body">
							  <h5 class="card-title">Giá Phòng</h5>
							   <p>{{Checkbill.RoomCash[0].roomBill }} / Phòng</p>
							   <button ng-click="Updatabil('giaphong')"  class="btn btn-primary"  data-bs-toggle="modal" data-bs-target="#staticBackdrop">Thêm</button>
							</div>
						  </div>
						  <div ng-show="Checkbill.RoomCash.length === 0" class="card w-100  text-center" >
							<div class="card-body">
								<h5 class="card-title">Giá Room</h5>
								<button ng-click="Addbil('giaphong')" class="btn btn-primary"  data-bs-toggle="modal" data-bs-target="#staticBackdrop">Thêm</button>
							</div>
						  </div>
					</div>		
				</div>
			</div>
			<!-- Modal -->
			<div class="modal fade " id="exampleModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
				aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered">
					<div class="modal-content">
						<div class="modal-header">
							<h1 class="modal-title fs-5" id="exampleModalLabel">Xem Video</h1>
							<button type="butto" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body">
							<iframe id="link-youtube" class="mt-3  w-100 " height="500"
								src="https://www.youtube.com/embed/X3EeCw-Jvbs?si=icelt0DXrocyIK39"
								title="YouTube video player" frameborder="0"
								allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
								allowfullscreen></iframe>
						</div>
					</div>
				</div>
			</div>
				<!-- Modal  Add update bill-->
				<div class="modal fade " id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
				aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered">
					<div class="modal-content">
						<div class="modal-header">
							<h1 class="modal-title fs-5" id="exampleModalLabel"> {{addorupdata}} Tiền {{title}}</h1>
							<button id="butclose" type="butto" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body">
						 <label class="form-label  " for="">Mời nhập chỉ số {{title}}</label>
						 <input class="form-control mb-3  " type="text" ng-model="numberbill">
						 <label  for="form-label " style="color: red;">{{error}}</label>
						<div class="d-flex  justify-content-end ">
							<button ng-click="PostBill()" class="btn btn-primary ">{{addorupdata}}</button>
						</div>
						</div>
					</div>
				</div>
			</div>
		</div>
</body>

</html>