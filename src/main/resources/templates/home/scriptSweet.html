<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
	integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
	crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
	integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
	crossorigin="anonymous"></script>
<script th:src="@{/js/header.js}"></script>
<script th:src="@{/js/invoice.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.5/dist/sweetalert2.all.min.js"></script>
<script th:inline="javascript">
	var paymentSuccess = /*[[${paymentSuccess}]]*/ false;
	if (paymentSuccess) {
		Swal.fire({
			title: "Thành công!",
			text: "Thanh toán hóa đơn thành công!",
			icon: "success",
			toast: true,
			position: 'top-end',
			showConfirmButton: false,
			timer: 3000
		})
	}
	$('.owl-carousel').owlCarousel({
		loop: true,
		margin: 10,
		nav: true,
		autoplay: true,
		autoplayTimeout: 3000,
		autoplayHoverPause: true,
		responsive: {
			0: {
				items: 1
			},
			1000: {
				items: 3
			}
		}
	})
</script>
<!--Quên mk-->
<script th:if="${not #strings.isEmpty(message)}" th:inline="javascript">
	var changeMessage = /*[[${message}]]*/ '';
	Swal.fire({
		title: "Thành công!",
		text: changeMessage,
		icon: "success"
	}).then(() => {
		window.location.href = '/signin';
	});
</script>
<script th:if="${not #strings.isEmpty(messagee)}" th:inline="javascript">
	var changeMessage = /*[[${messagee}]]*/ '';
	Swal.fire({
		title: "Thất bại!",
		text: changeMessage,
		icon: "error"
	});
</script>
<script th:if="${not #strings.isEmpty(mes)}" th:inline="javascript">
	var changeMessage = /*[[${mes}]]*/ '';
	Swal.fire({
		icon: "info",
		title: "Xác nhận!",
		text: changeMessage,
		showConfirmButton: false,
		timer: 1500
	}).then(() => {
		var email = /*[[${email1}]]*/ '';
		window.location.href = '/confirmForm?email=' + email;
	});
</script>
<!--Change-->

<script th:if="${not #strings.isEmpty(change)}" th:inline="javascript">
	var changeMessage = /*[[${change}]]*/ '';
	Swal.fire({
		title: "Thất bại!",
		text: changeMessage,
		icon: "error"
	});
</script>
<script th:if="${not #strings.isEmpty(pass)}" th:inline="javascript">
	var changeMessage = /*[[${pass}]]*/ '';
	Swal.fire({
		icon: "success",
		title: "Thành công!",
		text: "Thay đổi mật khẩu thành công!",
		showConfirmButton: false,
		timer: 1500
	}).then(() => {
		window.location.href = '/auth/logoff';
	});
</script>
<!--information-->
<script th:if="${not #strings.isEmpty(update)}" th:inline="javascript">
	var changeMessage = /*[[${update}]]*/ '';
	Swal.fire({
		icon: "success",
		title: "Thành công!",
		text: changeMessage,
		showConfirmButton: false,
		timer: 1500
	});
</script>
<script>
	document.getElementById('uploadInput').addEventListener('change', function () {
		var reader = new FileReader();
		reader.onload = function (e) {
			document.getElementById('imagePreview').src = e.target.result;
		}
		reader.readAsDataURL(this.files[0]);
	});
</script>
<script>
	function openCustomModal(src) {
		// Tạo một custom-modal element
		var modal = document.createElement('div');
		modal.classList.add('custom-modal');

		// Tạo một hình ảnh element trong custom-modal
		var modalImg = document.createElement('img');
		modalImg.src = src;

		// Đóng custom-modal khi click ra ngoài
		modal.onclick = function () {
			modal.remove();
		};

		// Thêm hình ảnh vào custom-modal
		modal.appendChild(modalImg);

		// Thêm custom-modal vào body
		document.body.appendChild(modal);
	}

</script>


<!--Đăng nhập-->
<script th:if="${not #strings.isEmpty(auth)}" th:inline="javascript">
	var changeMessage = /*[[${auth}]]*/ '';
	Swal.fire({
		icon: "success",
		title: "Thành công!",
		text: changeMessage,
		showConfirmButton: false,
		timer: 1500
	}).then(() => {
		window.location.href = '/index';
	});
</script>
<script th:if="${not #strings.isEmpty(signin)}" th:inline="javascript">
	var changeMessage = /*[[${signin}]]*/ '';
	Swal.fire({
		icon: "success",
		title: "Thành công!",
		text: changeMessage,
		showConfirmButton: false,
		timer: 1500
	})
</script>
<script th:if="${not #strings.isEmpty(error)}">
	Swal.fire({
		icon: "error",
		title: "Thất bại!",
		text: "Đăng nhập thất bại!",
		showConfirmButton: false,
		timer: 1500
	});
</script>
<script th:if="${not #strings.isEmpty(errors)}">
	Swal.fire({
		icon: "error",
		title: "Xác nhận!",
		text: "Bạn không có quyền!",
		showConfirmButton: false,
		timer: 1500
	});
</script>
<!--Đăng ký-->
<script th:if="${not #strings.isEmpty(create)}" th:inline="javascript">
	var changeMessage = /*[[${create}]]*/ '';
	Swal.fire({
		icon: "success",
		title: "Thành công!",
		text: changeMessage
	}).then(() => {
		window.location.href = '/signin';
	});
</script>
<script th:if="${not #strings.isEmpty(signup)}" th:inline="javascript">
	var changeMessage = /*[[${signup}]]*/ '';
	Swal.fire({
		title: "Thành công!",
		text: changeMessage,
		icon: "success"
	}).then(() => {
		window.location.href = '/signin';
	});
</script>
<script th:if="${not #strings.isEmpty(signuperr)}" th:inline="javascript">
	var changeMessage = /*[[${signuperr}]]*/ '';
	Swal.fire({
		title: "Thất bại!",
		text: changeMessage,
		icon: "error"
	});
</script>
<script th:if="${not #strings.isEmpty(signupinfo)}" th:inline="javascript">
	var changeMessage = /*[[${signupinfo}]]*/ '';
	Swal.fire({
		icon: "info",
		title: "Xác nhận!",
		text: changeMessage,
		showConfirmButton: false,
		timer: 1500
	}).then(() => {
		var email = /*[[${email1}]]*/ '';
		window.location.href = '/confirmSignup';
	});
</script>
<!--Đăng xuất-->
<script>
	var logoutButton = document.getElementById('logoutButton');
	logoutButton.onclick = function (e) {
		Swal.fire({
			title: "Xác Nhận!",
			text: "Bạn có muốn đăng xuất!",
			icon: "warning",
			showCancelButton: true,
			confirmButtonColor: "#3085d6",
			cancelButtonColor: "#d33",
			confirmButtonText: "Đăng xuất",
			cancelButtonText: "Không"
		}).then((result) => {
			if (result.isConfirmed) {
				Swal.fire({
					icon: "success",
					title: "Thành công!",
					text: "Đăng xuất thành công!",
					showConfirmButton: false,
					timer: 1500
				}).then(() => {
					window.location.href = '/auth/logoff';
				});
			}
		});
	}
</script>

<!--Yêu cầu-->
<script th:if="${not #strings.isEmpty(creates)}" th:inline="javascript">
	var changeMessage = /*[[${creates}]]*/ '';
	Swal.fire({
		icon: "success",
		title: "Thành công!",
		text: changeMessage,
		showConfirmButton: false,
		timer: 1500
	});
</script>
<script th:if="${not #strings.isEmpty(req)}" th:inline="javascript">
	var changeMessage = /*[[${req}]]*/ '';
	Swal.fire({
		icon: "warning",
		title: "Xác nhận!",
		text: changeMessage,
	});
</script>

<script>
	function confirmDelete(id) {
		Swal.fire({
			title: "Xác Nhận!",
			text: "Bạn có muốn hủy không!",
			icon: "warning",
			showCancelButton: true,
			confirmButtonColor: "#3085d6",
			cancelButtonColor: "#d33",
			confirmButtonText: "Hủy yêu cầu",
			cancelButtonText: "Không"
		}).then((result) => {
			if (result.isConfirmed) {
				Swal.fire({
					icon: "success",
					title: "Thành công!",
					text: "Hủy thành công!",
					showConfirmButton: false,
					timer: 1500
				}).then(() => {
					window.location.href = '/deleteRe/' + id;
				});
			}
		});
	}
</script>
<!--yêu cầu-->
<!--<script th:if="${not #strings.isEmpty(req)}" th:inline="javascript">
    var changeMessage = /*[[${req}]]*/ '';
    Swal.fire({
        icon: "warning",
        title: "Xác nhận!",
        text: changeMessage,
        showCancelButton: true,
        confirmButtonColor: "#3085d6",
        cancelButtonColor: "#d33",
        confirmButtonText: "Đồng ý",
        cancelButtonText: "Không"
    })
    .then((result) => {
        if (result.isConfirmed) {
            window.location.href = '/request/update';
        }
    });
</script>-->




<script th:if="${paymentSuccess}">
	Swal.fire({
		title: "Thành công!",
		text: "Thanh toán hóa đơn thành công!",
		icon: "success"
	}).then(() => {
		window.location.href = '/index';
	});
</script>
<script>
	var id = document.getElementById("uploadInput");
	id.addEventListener("change", function () {
		const file = this.files[0];
		if (file === undefined) {
			previewImage.src = inlu;
			this.setCustomValidity('');
			this.required = false;
		} else {
			if (file.size > MAX_FILE_SIZE) {
				this.setCustomValidity('Ảnh đã vượt quá kích cỡ cho phép');
				this.required = true;
			} else {
				this.setCustomValidity('');
				this.required = false;
			}
		}
		if (file) {
			const reader = new FileReader();
			reader.onload = function (e) {
				previewImage.src = e.target.result;
			};
			reader.readAsDataURL(file);
		}
	});
</script>