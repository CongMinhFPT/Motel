<!doctype html>
<html class="no-js" lang="zxx" xmlns="http://www.thymeleaf.org" th:fragment="area(body)">

<!-- single-product31:30-->

<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>[[${motelRoom.descriptions}]]</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Font Awesome -->
	<link rel="stylesheet" th:href="@{/vendor/css/font-awesome.min.css}">
	<link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
	<!-- owl carousel CSS -->
	<link rel="stylesheet" th:href="@{/vendor/css/owl.carousel.min.css}">
	<!-- Slick Carousel CSS -->
	<link rel="stylesheet" th:href="@{/vendor/css/slick.css}">
	<!-- Jquery-ui CSS -->
	<link rel="stylesheet" th:href="@{/vendor/css/jquery-ui.min.css}">
	<!-- Magnific Popup CSS -->
	<link rel="stylesheet" th:href="@{/vendor/css/magnific-popup.css}">
	<!-- Venobox CSS -->
	<link rel="stylesheet" th:href="@{/vendor/css/venobox.css}">
	<!-- Bootstrap V4.1.3 Fremwork CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
	<!-- Helper CSS -->
	<link rel="stylesheet" th:href="@{/vendor/css/helper.css}">
	<!-- Main Style CSS -->
	<link rel="stylesheet" th:href="@{/css/room-detail.css}">
	<link rel="stylesheet" th:href="@{/css/header.css}">
	<link rel="stylesheet" th:href="@{/css/footer.css}">
	<link rel="stylesheet" th:href="@{/css/main.css}">
	<!-- Modernizr js -->
	<script th:href="@{/vendor/js/vendor/modernizr-2.8.3.min.js}"></script>

	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/leaflet-routing-machine/dist/leaflet-routing-machine.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
</head>

<body ng-app="roomApp" ng-controller="roomCtrl">
	<div th:replace="~{/layout/header.html}">
	</div>
	<!-- Begin Body Wrapper -->
	<div class="container">

		<!-- Begin Header Area -->

		<!-- Header Area End Here -->
		<!-- Begin Li's Breadcrumb Area -->
		<div class="breadcrumb-area mb-40 mt-150">
			<div class="breadcrumb-content">
				<ul>
					<li><a href="/index">Trang chủ</a></li>
					<li><a href="index.html">Nhà trọ</a></li>
					<li class="active">#[[${motelRoom.descriptions}]]</li>
				</ul>
			</div>
		</div>
		<!-- Li's Breadcrumb Area End Here -->
		<!-- content-wraper start -->
		<div class="container-motel">
			<div class="content-wraper">
				<div class="row single-product-area">
					<div class="col-lg-7 col-md-7">
						<!-- Product Details Left -->
						<div class="product-details-left">
							<div class="product-details-images slider-navigation-1">
								<div th:if="${motelRoom.video != null}" class="lg-image">
									<iframe style="width: 100%; height: 35rem;"
										th:src="'https://www.youtube.com/embed/'+${motelRoom.video}"
										title="YouTube video player" frameborder="0"
										allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
										allowfullscreen></iframe>
								</div>
								<div th:each="image : ${images}">
									<div class="lg-image">
										<a class="popup-img venobox vbox-item"
											th:href="@{|/files/ImgMotelRoom/${image.name}|}" data-gall="myGallery">
											<img th:src="@{|/files/ImgMotelRoom/${image.name}|}" alt="product image"
												style="height: 35rem;">
										</a>
									</div>
								</div>
							</div>
							<div class="product-details-thumbs slider-thumbs-1 mt-20">
								<div th:if="${motelRoom.video != null}" class="sm-image">
									<iframe style="width: 100%; height: 10rem;"
										th:src="'https://www.youtube.com/embed/'+${motelRoom.video}"
										title="YouTube video player" frameborder="0"
										allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
										allowfullscreen></iframe>
								</div>
								<div th:each="image : ${images}">
									<div class="sm-image">
										<img th:src="@{|/files/ImgMotelRoom/${image.name}|}" alt="product image thumb"
											style="height: 10rem;">
									</div>
								</div>

							</div>
						</div>
						<!--// Product Details Left -->
					</div>

					<div class="col-lg-5 col-md-5">
						<div class="product-details-view-content pt-30">
							<div class="product-info">
								<h2>[[${motelRoom.descriptions}]]</h2>
								<div class="price-box pt-20">
									<span class="new-price new-price-2">[[${#numbers.formatInteger(roomCash.roomBill,
										3, 'POINT')}]]/tháng</span>
								</div>
								<div class="product-desc mt-40">
									<p>
										<span> <i class='bx bx-fullscreen pe-1'></i> Diện tích:
											[[${#numbers.formatInteger(motelRoom.length, 1, 'POINT')}]] x
											[[${#numbers.formatInteger(motelRoom.width, 1, 'POINT')}]]
										</span>
										<span class="float-end"> <i class='bx bx-bed'></i></i> Số người:
											[[${motelRoom.categoryRoom.quantity}]] người
										</span>
									</p>
								</div>
								<div class="product-desc">
									<p>
										<span> <i class='bx bx-location-plus'></i> Địa chỉ:
											[[${motelRoom.motel.detailAddress}]],
											[[${motelRoom.motel.ward}]],
											[[${motelRoom.motel.district}]],
											[[${motelRoom.motel.province}]]
										</span>
									</p>
								</div>
								<div class="product-desc">
									<p>
										<span>
											<i class='bx bx-vector'></i> Điện:
											<span th:if="${roomElectricity.electricityBill eq 0}">Miễn phí</span>
											<span
												th:if="${roomElectricity.electricityBill > 0}">[[${#numbers.formatInteger(roomElectricity.electricityBill,
												3, 'POINT')}]]/tháng</span>
										</span>
										<span class="float-end">
											<i class='bx bx-wifi'></i></i> Wifi:
											<span th:if="${roomWifi.wifiBill eq 0}">Miễn phí</span>
											<spanlightning th:if="${roomWifi.wifiBill > 0}">
												[[${#numbers.formatInteger(roomWifi.wifiBill,
												3, 'POINT')}]]/tháng
										</span>
										</span>
										<br>
										<span>
											<i class='bx bx-water'></i> Nước:
											<span th:if="${roomWater.waterBill eq 0}">Miễn phí</span>
											<span
												th:if="${roomWater.waterBill > 0}">[[${#numbers.formatInteger(roomWater.waterBill,
												3, 'POINT')}]]/tháng</span>
										</span>
									</p>
								</div>
								<div class="d-flex flex-column  news-person">
									<span> <i class='bx bx-user'></i></i> Người đăng
									</span>
									<div class="row mt-20">
										<div class="col-2">
											<img th:src="${motelRoom.motel.account.avatar != null ? '/files/CustomerImg/' + motelRoom.motel.account.avatar : '/files/CustomerImg/user_icon.png'}"
												alt="" class="rounded-circle img-user mt-2" style="height: 2.7rem;">

										</div>
										<div class="col-10">
											<span>[[${motelRoom.motel.account.fullname}]]</span>
											<p class="font-italic" id="poster"> [[${motelRoom.motel.account.email}]]</p>
										</div>
									</div>
									<div class=" mt-30 mx-auto d-flex flex-column">
										<button type="button" class="btn px-5 btn-contact">
											<i class='bx bx-phone'></i>
											&nbsp;
											[[${motelRoom.motel.account.phone}]]</button>
										<input type="hidden"
											th:value="${accountIdFavorite == null ? null : accountIdFavorite}"
											id="accountIdFavorite">

										<a class="btn px-5 btn-contact mt-10"
											th:attr="ng-click=@{|addFavoriteRoom(${motelRoom.motelRoomId})|}">
											<i class='bx bxs-heart'></i>
											&nbsp;
											Yêu thích</a>

										<a class="btn px-5 btn-contact mt-10" ng-click="checkLoginForChat()">
											<i class='bx bxs-message-dots'></i>
											&nbsp;
											Nhắn tin
										</a>

									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- content-wraper end -->
			<!-- Begin Product Area -->
			<div class="product-area pt-35">
				<div class="row">
					<div class="col-lg-12">
						<div class="li-product-tab">
							<ul class="nav li-product-menu">
								<li><a class="active" data-toggle="tab" href="#description"><span>Vị
											trí</span></a>
								</li>
							</ul>
						</div>
						<!-- Begin Li's Tab Menu Content Area -->
					</div>
				</div>
				<div class="tab-content">
					<div id="description" class="tab-pane active show" role="tabpanel">
						<div class="product-description">
							<div class="row">
								<div class="col-6">
									<span class="fw-bold">Vị trí nhà trọ</span>
									<p>● [[${motelRoom.motel.detailAddress}]],
										[[${motelRoom.motel.ward}]],
										[[${motelRoom.motel.district}]],
										[[${motelRoom.motel.province}]]</p>
								</div>
								<div class="col-6">
									<span class="fw-bold">Tìm đến vị trí</span>
									<div class="d-flex">
										<input type="text" id="inp-location" class="form-control"
											style=" background: none; outline: none; color: #DCBF7D;">
										<button class="btn btn-warning ms-1 btn-location-search" type="submit"><i
												class='bx bx-search'></i></button>
									</div>
								</div>
							</div>
							<div class="gg-map mt-5" id="gg-map">
								<div class="loading" id="loadingOverplay">
									<div class="pac-man"></div>
								</div>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Product Area End Here -->
		<!-- Begin Li's Laptop Product Area -->


	</div>
	</div>
	<div th:replace="~{/layout/footer.html}">
	
	</div>
	<div th:replace="~{/home/scriptSweet}"></div>
	<script th:inline="javascript">
		const loadingOverlays = document.getElementsByClassName('loading');

		function showLoadingSpinner() {
			for (let i = 0; i < loadingOverlays.length; i++) {
				loadingOverlays[i].style.display = 'block';
			}
		}

		function hideLoadingSpinner() {
			for (let i = 0; i < loadingOverlays.length; i++) {
				loadingOverlays[i].style.display = 'none';
			}
		}
		hideLoadingSpinner();
		const latitude = /*[[${latitude}]]*/'';
		const longitude = /*[[${longitude}]]*/'';
		const map = L.map('gg-map').setView([latitude, longitude], 17);
		L.tileLayer(`https://api.maptiler.com/maps/streets-v2/256/{z}/{x}/{y}.png?key=TMaCmxPUt0XNH7bb7Wbt`, {
			attribution: '<a href="https://www.maptiler.com/copyright/" target="_blank"></a> <a href="https://www.openstreetmap.org/copyright" target="_blank"></a>'
		}).addTo(map);
		var marker = L.marker([latitude, longitude]).addTo(map);

		const apiUrl = `https://nominatim.openstreetmap.org/search`;
		let routingControl;
		function displayRouteToAddress(address) {
			showLoadingSpinner();
			const currentLatLng = marker.getLatLng();
			fetch(`${apiUrl}?q=${address}&format=json`)
				.then(response => response.json())
				.then(data => {
					const newLatitude = parseFloat(data[0].lat);
					const newLongitude = parseFloat(data[0].lon);
					const waypoints = [
						L.latLng(currentLatLng.lat, currentLatLng.lng),
						L.latLng(newLatitude, newLongitude)
					];
					if (routingControl) {
						map.removeControl(routingControl);
					}

					routingControl = L.Routing.control({
						waypoints: waypoints,
						routeWhileDragging: true
					}).addTo(map);
					hideLoadingSpinner();
				})
				.catch(error => console.error('Error:', error));
		}

		const searchButton = document.querySelector('.btn-location-search');
		searchButton.addEventListener('click', function () {
			const address = document.getElementById('inp-location').value;
			displayRouteToAddress(address);

		});
	</script>
	<!-- Body Wrapper End Here -->
	<!-- jQuery-V1.12.4 -->
	<th:block id="javascriptResource">
		<script src="/vendor/js/jquery-1.12.4.min.js"></script>
		<!-- Popper js -->
		<script src="/vendor/js/popper.min.js"></script>
		<!-- Bootstrap JavaScript Libraries -->
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
			integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
			crossorigin="anonymous"></script>

		
		<!-- Slick Carousel js -->
		<script src="/vendor/js/slick.min.js"></script>
		<!-- Owl Carousel-2 js -->
		<script src="/vendor/js/owl.carousel.min.js"></script>
		<!-- Magnific popup js -->
		<script src="/vendor/js/jquery.magnific-popup.min.js"></script>
		<!-- Jquery-ui -->
		<script src="/vendor/js/jquery-ui.min.js"></script>
		<!-- Venobox -->
		<script src="/vendor/js/venobox.min.js"></script>
		<!-- Main/Activator js -->
		<script src="/js/room-detail.js"></script>

		<script src="/js/header.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
		<script th:src="@{/js/room.js}"></script>
	</th:block>
</body>

<!-- single-product31:32-->

</html>