<!DOCTYPE html>
<html lang="en" xmlns="http://www.thymeleaf.org" th:fragment="area(title, body, link)">

<head>
    <title>Trang Chủ</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />

    <link rel="stylesheet" th:href="@{/css/header.css}" />
    <link rel="stylesheet" th:href="@{/css/footer.css}" />
    <link rel="stylesheet" th:href="@{/css/main.css}" />
    <!-- ===== Boxicons CSS ===== -->
    <link href="https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css" rel="stylesheet" />
    <style>
        /* Thêm style cho combobox */
        .custom-select-wrapper {
            display: flex;
            align-items: center;
        }

        .custom-select {
            padding: 0.375rem 2rem 0.375rem 0.75rem;
            line-height: 1.5;
            color: #fff;
            background-color: #545454;
            background-clip: padding-box;
            border: 1px solid #ced4da;
            border-radius: 0.25rem;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            width: 150px;
            /* Điều chỉnh kích thước combobox theo ý muốn */
        }

        .pagination .page-link {
            color: black;
            /* Màu chữ của số trang */

            /* Màu khung của số trang */

        }

        .pagination .page-item.active .page-link {

            /* Màu nền của số trang hiện tại */

            /* Màu khung của số trang hiện tại */
        }
    </style>
</head>

<body ng-app="myApproompostmotel" ng-controller="myCtrlroompostmotel" ng-init="GetPostMotelnew()">
    <div th:replace="~{/layout/header.html}"></div>

    <main>
        <div class="container" style="margin-top: 10rem">
            <div class="area m-1">
                <div class="row" style="margin-top: 10rem; margin-bottom: 10px;">
                    <div class="col-12" style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a th:href="@{/index}">Trang chủ</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Bài đăng nhà trọ</li>
                        </ol>
                    </div>
                </div>
                <div class="row mt-5" style="border-bottom: 3px solid black">
                    <div class="col-lg-3 mb-4">
                        <div class=" mb-0">
                            <label class="form-label " for="">Tìm theo tên</label><br>
                            <input class="form-control " type="search">
                        </div>
                    </div>
                    <div class="col-lg-6"></div>
                    <div class="col-lg-3">
                        <div class="custom-select-wrapper mb-4">
                            <h6 class="mb-0 w-50">Ngày:</h6>
                            <select class="custom-select w-50" name="sortDir" id="sortDirTime" onchange="sortCards()">
                                <option value="desc" th:selected="${sortDir == 'desc'}">Mới nhất</option>
                                <option value="asc" th:selected="${sortDir == 'asc'}">Cũ nhất</option>
                            </select>

                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-4">
                <div class="container mt-1 p-2">
                    <div class="row">
                        <!-- Combobox nằm bên trái -->
                        <div class="col-lg-3">
                            <!-- Combobox 1 -->
                            <div class="custom-select-wrapper mb-3">
                                <h6 class="mb-0 w-50">Tỉnh/Thành Phố:</h6>
                                <select class="custom-select w-50" id="city" name="city" onchange="filterByAddress()">
                                    <option value="">Tất cả</option>
                                    <!-- Thêm các option từ dữ liệu của bạn -->
                                </select>
                            </div>
                            <hr />
                            <!-- Combobox 2 -->
                            <div class="custom-select-wrapper mb-3">
                                <h6 class="mb-0 w-50">Quận/huyện:</h6>
                                <select class="custom-select w-50" id="district" name="district"
                                    onchange="filterByAddress()">
                                    <option value="">Tất cả</option>
                                    <!-- Thêm các option từ dữ liệu của bạn -->
                                </select>
                            </div>
                            <hr />
                            <!-- Combobox 3 -->
                            <div class="custom-select-wrapper mb-3">
                                <h6 class="mb-0 w-50">Phường/xã:</h6>
                                <select class="custom-select w-50" id="ward" name="ward" onchange="filterByAddress()">
                                    <option value="">Tất cả</option>
                                    <!-- Thêm các option từ dữ liệu của bạn -->
                                </select>
                            </div>
                            <hr />
                            <!-- Combobox 4 -->
                            <div class="custom-select-wrapper mb-3">
                                <h6 class="mb-0 w-50">Diện tích:</h6>
                                <select class="custom-select w-50" id="categorySelect4" onchange="filterByArea()">
                                    <option value="1">Tất cả</option>
                                    <option value="2">Dưới 20m²</option>
                                    <option value="3">Từ 20m² đến 50m²</option>
                                    <option value="4">Trên 50m²</option>
                                </select>
                            </div>
                            <hr />
                        </div>
                        <div class="col-lg-9 ps-3 ">
                            <div ng-show="true">
                                <div style="min-height: 25rem;" class=" row ">
                                    <div ng-show="items.length" 
                                        class=" mt-4 col-12 col-md-5  p-2 me-4  "
                                        ng-repeat="item in items.slice((currentPage-1)*itemsPerPage, currentPage*itemsPerPage)">
                                        <div class="">
                                            <div class="card" style="background-color: #fff; color: #000;">
                                                <a href="/post/motel/motelroom/{{item.motel.motelId}}">
                                                    <img class="card-img-top w-100"
                                                        src="/files/ImgMotel/{{item.motel.image}}" alt="" /></a>
                                                <div class="card-body">
                                                    <p class="card-text text-success ">{{item.posttitle}}</p>
                                                    <label class="fw-lighter  " for="">Mô tả</label>
                                                    <div style="background-color: #f4efef;"
                                                        class="d-flex  p-2 rounded-2">
                                                        <p class="d-flex align-items-start ">
                                                        <div>
                                                            <span class="fw-lighter  ">
                                                                {{item.motel.descriptions}}
                                                            </span>
                                                            <br>
                                                            <span class="fw-lighter  ">
                                                                Người đại diện: {{item.account.fullname}},
                                                                {{item.account.phone}}
                                                                <br>
                                                                Giới tính: {{item.account.gender==true ?'Nam':'Nữ'}}
                                                            </span>
                                                        </div>
                                                        </p>
                                                    </div>
                                                    <div class="row py-3">
                                                        <div class="col-lg-12 card-text text-start"><i
                                                                class='bx bx-current-location pe-1'></i>
                                                            {{item.motel.detailAddress}}, {{item.motel.ward}},
                                                            {{item.motel.district}},
                                                            {{item.motel.province}}
                                                        </div>
                                                        <hr>
                                                        <div class="col-lg-12 card-text"><i
                                                                class='bx bx-fullscreen pe-1'></i>Tổng phòng hiện có:
                                                            {{item.totalrooms}}
                                                            <a>phòng</a>
                                                        </div>
                                                        <hr>
                                                        <div class="col-lg-12 card-text">

                                                            <i class='bx bx-user-plus pe-1'></i> Phòng trống:
                                                            {{item.availability}} phòng

                                                        </div>

                                                    </div>
                                                    <div class="col-lg-12 card-text d-flex  justify-content-end ">
                                                        <span class="fw-lighter  ">
                                                            <span ng-show="item.daysSinceCreation==0">Đăng hôm
                                                                nay</span>
                                                            <span ng-show="item.daysSinceCreation!=0">Đăng
                                                                {{item.daysSinceCreation}} ngày trước</span>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div>

                            </div>

                        </div>
                        <div class="text-center mt-4" ng-if="pageCount() > 1">
                            <button class="btn m-1"
                                ng-class="{ 'btn-outline-secondary': currentPage != 1, 'btn-success': currentPage == 1 }"
                                ng-disabled="currentPage == 1" ng-click="firstPage()">Đầu trang</button>
                            <button class="btn m-1"
                                ng-class="{ 'btn-outline-secondary': currentPage != 1, 'btn-success': currentPage == 1 }"
                                ng-disabled="currentPage == 1" ng-click="prevPage()">Previous</button>
                            <button class="btn m-1" ng-repeat="n in pages()"
                                ng-class="{ 'btn-outline-secondary': currentPage != n, 'btn-success': currentPage == n }"
                                ng-click="setPage(n)">{{n}}</button>
                            <button class="btn m-1"
                                ng-class="{ 'btn-outline-secondary': currentPage != pageCount(), 'btn-success': currentPage == pageCount() }"
                                ng-disabled="currentPage == pageCount()" ng-click="nextPage()">Next</button>
                            <button class="btn m-1"
                                ng-class="{ 'btn-outline-secondary': currentPage != pageCount(), 'btn-success': currentPage == pageCount() }"
                                ng-disabled="currentPage == pageCount()" ng-click="lastPage()">Cuối trang</button>
                        </div>
                    </div>
                </div>
            </div>
    </main>


    <div th:replace="~{/layout/footer.html}"></div>
    <div th:replace="~{/home/scriptSweet}"></div>

    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- <script th:src="@{/js/header.js}"></script>
    <script th:src="@{/js/room.js}"></script>
    <script th:src="@{/js/address.js}"></script> -->

</body>

</html>